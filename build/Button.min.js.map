{"version":3,"sources":["webpack://Button/webpack/universalModuleDefinition","webpack://Button/./node_modules/@xaro/event-emitter/src/EventEmitter.ts","webpack://Button/./node_modules/@xaro/event-emitter/src/index.ts","webpack://Button/./src/helpers.ts","webpack://Button/./src/Button.ts","webpack://Button/./src/index.ts","webpack://Button/webpack/bootstrap","webpack://Button/webpack/startup","webpack://Button/webpack/runtime/define property getters","webpack://Button/webpack/runtime/hasOwnProperty shorthand","webpack://Button/webpack/runtime/make namespace object"],"names":["root","factory","exports","module","define","amd","self","on","key","events","this","multipleSubsribe","value","Array","isArray","cb","subscribe","has","push","dispose","removeListener","unsubscribe","idx","indexOf","splice","once","remove","data","emit","event","args","validateEmit","seriesEmit","params","i","length","allowInputTypes","checkButtonType","el","HTMLButtonElement","HTMLInputElement","includes","type","config","isLock","emitter","addEventListener","click","bind","mouseenter","mouseout","mouseover","disabledObj","can","target","constructor","btn","querySelector","originalEvent","preventDefault","lock","disabled","classList","add","unlock","document","button","console","log","afterLock","afterUnlock","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","d","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag"],"mappings":"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","file":"Button.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Button\"] = factory();\n\telse\n\t\troot[\"Button\"] = factory();\n})(self, function() {\nreturn ","import { I_EventEmitter, I_EventEmitterConstructorConfig, I_EventEmitterEvents, T_Func } from './types';\n\nexport default class EventEmitter implements I_EventEmitter {\n  /**\n   * Event list\n   */\n  events: I_EventEmitterEvents = {};\n\n\n  /**\n   * Create Emitter\n   */\n  constructor(on: I_EventEmitterConstructorConfig = {}) {\n    for (let key in on) {\n      if (on[key]) {\n        this.multipleSubsribe(key, on[key] as T_Func | T_Func[])\n      }\n    }\n  }\n\n  /**\n   * Calls the subscribe method on each element in the array.\n   */\n  protected multipleSubsribe(key: string, value: T_Func | T_Func[]): void {\n    if (Array.isArray(value)) {\n      for (const cb of value) {\n        this.multipleSubsribe(key, cb);\n      }\n    } else if (typeof value === 'function') {\n      this.subscribe(key, value as T_Func);\n    }\n  }\n\n\n  /**\n   * Creates a key for the event and subscribes the passed callback to it.\n   */\n  subscribe(key: string, cb: T_Func): { dispose: T_Func } {\n    if (!this.has(key)) {\n      this.events[key] = [];\n    }\n\n    this.events[key].push(cb);\n\n    return {\n      dispose: () => this.removeListener(key, cb)\n    };\n  }\n\n  /**\n   * Unsubscribes all callback functions from the event and removes the event\n   * key.\n   */\n  unsubscribe(key: string): void {\n    if (this.events[key]) {\n      delete this.events[key];\n    }\n  }\n\n  /**\n   * Removes a specific event key callback function.\n   */\n  removeListener(key: string, cb: T_Func): void {\n    // if (typeof this.events[key] === 'object') {\n    if (Array.isArray(this.events[key])) {\n      const idx = this.events[key].indexOf(cb);\n\n      if (idx > -1) {\n        this.events[key].splice(idx, 1);\n      }\n    }\n  }\n\n  /**\n   * Calls the callback function only once, and then removes it.\n   */\n  once(key: string, cb: T_Func): void {\n    const remove = this.subscribe(key, (data) => {\n      remove.dispose();\n      cb(data);\n    });\n  }\n\n  /**\n   * Checks for an event by key.\n   * (Doesn't check for callback functions)\n   */\n  has(key: string): boolean {\n    return !!this.events[key];\n  }\n\n  /**\n   * Calls all callback functions on events using the event key.\n   */\n  emit(key: string, ...args: any): void {\n    const event: T_Func[] = this.events[key];\n\n    if (event) {\n      for (let cb of event) {\n        cb(...args);\n      }\n    }\n  }\n\n\n  /**\n   * Just like \"emit\" calls all callback functions. However, the callback must\n   * return a boolean value, which determines whether or not the next callback\n   * will execute.\n   * As a result, it returns the result of the last executed callback function.\n   */\n  validateEmit(key: string, ...args: any): boolean {\n    const event: T_Func[] = this.events[key];\n\n    if (! event) {\n      return false;\n    }\n\n    for(const cb of event) {\n      if (! cb(...args)) {\n        return false;\n      }\n    }\n    \n    return true;\n  }\n\n  /**\n   * Just like \"emit\" calls all callbacks, but unlike \"emit\" it passes the\n   * result of the previous callback to the next one as an argument.\n   * As aresult, it will return the result of the last callback.\n   */\n  seriesEmit(key: string, ...args: any): any {\n    const event: T_Func[] = this.events[key];\n\n    if (! event) {\n      return;\n    }\n\n    let params: any;\n\n    for (let i = 0; i < event.length; i++) {\n      if (i === 0) {\n        params = event[i](...args);\n      } else {\n        params = event[i](params);\n      }\n    }\n\n    return params;\n  }\n}","import EventEmitter from \"./EventEmitter\";\n\nexport default EventEmitter;\n\nexport {\n  I_EventEmitter,\n  I_EventEmitterEvents,\n  I_EventEmitterConstructorConfig,\n  T_Func\n} from \"./types\";","const allowInputTypes = [\n  'button',\n  'submit',\n  'reset'\n]\n\nexport function checkButtonType(el: Element) {\n  return el instanceof HTMLButtonElement || (el instanceof HTMLInputElement && allowInputTypes.includes((el as HTMLInputElement).type));\n}","import EventEmitter, { I_EventEmitter } from \"@xaro/event-emitter\";\nimport { checkButtonType } from \"./helpers\";\nimport { I_Button, I_ButtonConstructorConfig } from \"./types\";\n\nexport default class Button implements I_Button {\n  emitter:  I_EventEmitter;\n  el:       HTMLElement;\n\n  isLock:     boolean = false;\n\n  protected disabledObj!: {\n    can:          boolean;\n    target?:      HTMLButtonElement | HTMLInputElement;\n    constructor?: Function;\n  }\n\n  constructor(config: I_ButtonConstructorConfig) {\n    this.emitter  = new EventEmitter(config.on);\n    this.el       = config.el;\n\n    this.el.addEventListener('click', this.click.bind(this));\n\n    if (config.on) {\n      config.on.mouseenter  && this.el.addEventListener('mouseenter', this.mouseenter.bind(this) as EventListener);\n      config.on.mouseout    && this.el.addEventListener('mouseout',   this.mouseout.bind(this) as EventListener);\n      config.on.mouseover   && this.el.addEventListener('mouseover',  this.mouseover.bind(this) as EventListener);\n    }\n\n    if (checkButtonType(this.el)) {\n      this.disabledObj = {\n        can:          true,\n        target:       this.el  as HTMLButtonElement | HTMLInputElement,\n        constructor:  this.el.constructor\n      }\n    } else {\n      let btn = this.el.querySelector('.button');\n      if (btn && checkButtonType(btn)) {\n        this.disabledObj = {\n          can:          true,\n          target:       btn as HTMLButtonElement | HTMLInputElement,\n          constructor:  btn.constructor\n        }\n      } else {\n        this.disabledObj = {\n          can: false\n        }\n      }\n    }\n  }\n\n  protected click(originalEvent: Event) {\n    originalEvent.preventDefault();\n\n    if (this.isLock) {\n      return;\n    }\n\n    this.emitter.emit('beforeClick', this, originalEvent);\n\n\n    this.emitter.emit('click', this, originalEvent);\n\n\n    this.emitter.emit('afterClick', this, originalEvent);\n  }\n\n  protected mouseenter(originalEvent: MouseEvent) {\n    this.emitter.emit('mouseenter', this, originalEvent);\n  }\n\n  protected mouseout(originalEvent: MouseEvent) {\n    this.emitter.emit('mouseout', this, originalEvent);\n  }\n  \n  protected mouseover(originalEvent: MouseEvent) {\n    this.emitter.emit('mouseover', this, originalEvent);\n  }\n\n  lock() {\n    this.emitter.emit('beforeLock', this);\n\n    if (this.disabledObj.can) {\n      this.disabledObj.target!.disabled = true;\n    }\n\n    this.isLock = true;\n\n    this.el.classList.add('disabled');\n\n    this.emitter.emit('afterLock', this);\n  }\n\n  unlock() {\n    this.emitter.emit('beforeUnlock', this);\n\n    if (this.disabledObj.can) {\n      this.disabledObj.target!.disabled = false;\n    }\n\n    this.isLock = false;\n\n    this.el.classList.remove('disabled');\n\n    this.emitter.emit('afterUnlock', this);\n  }\n}","import { I_Button } from \"./types\";\nimport Button from './Button';\n\nexport default Button;\n\nconst btn1 = new Button({\n  el: document.querySelector('.button-1') as HTMLElement,\n  on: {\n    click: [\n      (button: I_Button) => {\n        button.lock();\n        console.log('[button-1] click', button);\n        button.unlock();\n      }\n    ],\n    afterLock: (button: I_Button) => {\n      console.log('[button-1] afterLock')\n    },\n    afterUnlock: (button: I_Button) => {\n      console.log('[button-1] afterUnlock')\n    },\n    mouseenter(button: I_Button, originalEvent: MouseEvent) {\n      console.log('[button-1] mouseenter')\n    }\n  }\n});\n\nconst btn2 = new Button({\n  el: document.querySelector('.button-2') as HTMLElement,\n  on: {\n    click: [\n      (button: I_Button) => {\n        console.log('[button-2] click', button)\n      }\n    ],\n    afterLock: (button: I_Button) => {\n      console.log('[button-2] afterLock')\n    },\n    afterUnlock: (button: I_Button) => {\n      console.log('[button-2] afterUnlock')\n    }\n  }\n});\n\nexport {\n  I_Button,\n  I_ButtonConstructorConfig\n} from './types';","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(974);\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}